<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<header>
        <div class="navbar">
            <div class="logo">
                <a href="#">Agriturismo</a>
            </div>
            <ul class="links">
                <li><a th:href="@{index}">Home</a></li>
                <li><a th:href="@{catalogo}">Prodotti</a></li>
                <li><a th:href="@{struttura-servizi}">Servizi</a></li>
                <li><a th:href="@{contatti}">Contatti</a></li>
            </ul>
            <a th:href="@{login}" class="action_btn">Login</a>
            <div class="toggle_btn">
                <i class="fa-solid fa-bars"></i>
            </div>
			

            <div class="dropdown_menu">
            	<ul>
                	<li><a th:href="@{index}">Home</a></li>
                	<li><a th:href="@{catalogo}">Prodotti</a></li>
                	<li><a th:href="@{struttura-servizi}">Servizi</a></li>
                	<li><a th:href="@{contatti}">Contatti</a></li>
                	<li><a th:href="@{login}" class="action_btn">Login</a></li>
                </ul>
            </div>
        </div>
    </header>
	<div>
		<p><a th:href="@{/dashboard-admin}">Admin</a></p>
    	<p><a th:href="@{/dashboard-ordini}">Ordini</a></p>
    	<p><a th:href="@{/dashboard-utenti}">Utenti</a></p>
	</div>

    <h1>Catalogo</h1>
	<p th:if="${ok}" th:text="'Prodotto inserito con successo'"></p>
	<p th:if="${del}" th:text="'Prodotto eliminato con successo'"></p>
    <form method="post" action="dashboard-catalogo/registra" enctype="multipart/form-data">
        <input type="text" th:value="${prodotto.descrizione}" name="descrizione" placeholder="Descrizione prodotto" required>
        <input type="text" th:value="${prodotto.categoria}" name="categoria" placeholder="Categoria prodotto" required>
        <input type="number" step= "any" th:value="${prodotto.prezzo}" name="prezzo" placeholder="Prezzo prodotto" required>
        <input type="file" name="immagine" placeholder="Immagine">
        <button type="submit" th:text="${edit ? 'Modifica Prodotto' : 'Registra Prodotto'}"></button>
    </form>
    <br>
    <div class="product-grid">
        <div th:each="p : ${prodotti}" class="product-item">
            <img th:if="${p.immagine==null}" th:src="@{image/PRODOTTO-ESAURITO.jpg}" class="card-img-top" alt="Prodotto Esaurito" style="width:160px;max-width:160px;height:160px;max-height:160px;">
            <img th:if="${p.immagine!=null}" th:src="@{${p.immagine}}" class="card-img-top" th:alt="${p.descrizione}" style="width:160px;max-width:160px;height:160px;max-height:160px;">
            <h3 th:text="${p.descrizione}"></h3>
            <p th:text="${p.categoria}"></p>
            <p th:text="'Prezzo ' + ${p.prezzo} + ' Euro.'"></p>
            <a th:href="@{dashboard-catalogo(id=${p.id})}">
            	<button th:text="'Modifica ' + ${p.descrizione}" ></button>
            </a>
            <a th:href="@{dashboard-catalogo/elimina(id=${p.id})}">
            	<button th:text="'Elimina ' + ${p.descrizione}" ></button>
            </a>
        </div>
    </div>
</body>

</html>